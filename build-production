#!/bin/bash

# Production build script for deployment
echo "ğŸš€ Starting production build..."

# Run client build
echo "ğŸ“¦ Building client..."
npm run build:client
if [ $? -ne 0 ]; then
    echo "âŒ Client build failed"
    exit 1
fi

# Run server build  
echo "ğŸ”§ Building server..."
npm run build:server
if [ $? -ne 0 ]; then
    echo "âŒ Server build failed"
    exit 1
fi

# Run the JavaScript build script for additional setup
echo "âš™ï¸ Running production setup..."
node scripts/build-production.js
if [ $? -ne 0 ]; then
    echo "âŒ Production setup failed"
    exit 1
fi

echo "âœ… Production build completed successfully!"